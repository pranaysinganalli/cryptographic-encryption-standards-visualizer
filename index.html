<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Encryption Visualizer</title>
  <link rel="stylesheet" href="style.css" />
</head>


<body>
  
  <div class="container">
    <h1>Visualize Encryption Standards</h1>
    <p >A tool to understand the workings of DES (Data Encryption Standard), AES (Advanced Encryption Standard) and Shor's Algorithm (integer factorization).</p>
    <br>
    <p>Note: AES supports a maximum of 10 rounds, while DES supports up to 16 rounds. Shor's Algorithm is a demonstration of quantum period-finding for integer factorization (N â‰¤ 200).</p>
    <br>
    <div class="toggle-container">
      <input type="radio" id="hex" name="algo" value="DES" style="display: none;" checked />
      <label for="hex" class="toggle-option">DES</label>

      <input type="radio" id="ascii" name="algo" style="display: none;"  value="AES" />
      <label for="ascii" class="toggle-option">AES</label>

      <input type="radio" id="shor" name="algo" style="display: none;" value="Shor" />
      <label for="shor" class="toggle-option">Shor's Algorithm</label>

      <a id="first" href="https://en.wikipedia.org/wiki/Data_Encryption_Standard" target="_blank">>Learn DES</a>
      <a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard" target="_blank">>Learn AES</a>
      <a href="https://en.wikipedia.org/wiki/Shor%27s_algorithm" target="_blank">>Learn Shor</a>
    </div>
    <button onclick="perfSoloAES()" id="soloOp" style="display : none"">Perform a single AES operation</button>
    
    
    <div class="input-section">
      
      <label for="mode" id="modelabel">Mode:</label>
      <br>
      <div class="toggle-container">
      <input type="radio" name="mode" id="encryptmode" value="Encryption" style="display: none;" checked>
      <label for="encryptmode" class="toggle-option" id ="encryptLabel">Encryption</label>

      <input type="radio" name="mode" id="decryptmode" style="display: none;" value="Decryption">
      <label for="decryptmode" class="toggle-option" id = "decryptLabel">Decryption</label>
      </div>
      
      <label for="plaintext" id="inputLabel">Plaintext:</label>
      

      <input type="radio" name="PTtype" id="plaintextHex" value="hex" checked>
      <label for="plaintextHex" id ="hexlabel">Hex</label>

      <input type="radio" name="PTtype" id="plaintextAscii" value="ascii">
      <label for="plaintextAscii" id = "asciilabel">ASCII</label>
      <br>

      <input type="text" id="plaintext" placeholder='e.g. 0011223344556677 (Hex) or "Hello world" (ASCII)' />
      <br><br>

      <label for="key">Key:</label>
      <br>

      <input type="radio" name="keyType" id="keyHex" value="hex" checked>
      <label for="keyHex" id ="hexlabel2">Hex</label>

      <input type="radio" name="keyType" id="keyAscii" value="ascii">
      <label for="keyAscii" id ="asciilabel2">ASCII</label>
      <br>

      <input type="text" id="key" placeholder='e.g. 0001020304050607 (Hex) or "MyKey123" (ASCII)' />
      <br><br>

      <!-- Shor input -->
      <div id="shor-input" style="display:none;">
        <label for="shorN">Integer N (to factor, max 200):</label><br>
        <input type="number" id="shorN" placeholder="e.g. 15" min="3" max="200" />
        <p style="font-style: italic; margin-top: 0.4rem;">You only need to enter the composite integer <strong>N</strong>. The visualizer will choose a base <em>a</em> automatically.</p>
        <br>
      </div>

      <label for="rounds" id="roundsLabel">Number of Rounds:</label>
      <br>
      <input type="number" id="rounds" value="16" min="1" max="16" />
      <br><br>
      
      <button id="vis-btn" onclick="startEncryption()">Start Visualization</button>
      

    </div>

    <div id="visualization-area"></div>
  </div>
  <script src="main.js"></script>
  <script src="des.js"></script>
  <script src="aes.js"></script>
  <script src="shor.js"></script>
  <!-- <script src="app.js"></script> -->
   <script>
      function updateInputLabel() {
        const label = document.getElementById("inputLabel");
        const input = document.getElementById("plaintext");
        const isDecrypt = document.getElementById("decryptmode").checked;
        const algoAES = document.getElementById("ascii").checked;
        const algoShor = document.getElementById("shor").checked;

        // Default labels for AES/DES
        label.textContent = isDecrypt ? "Ciphertext:" : "Plaintext:";
        input.placeholder = isDecrypt
          ? 'e.g. 85E813540F0AB405 (Hex) or some encrypted text'
          : 'e.g. 0011223344556677 (Hex) or "Hello world" (ASCII)';

        document.getElementById("soloOp").style.display = algoAES ? "block" : "none";
        const roundsInput = document.getElementById("rounds");
        if (algoAES) {
          roundsInput.max = 10;
          if (parseInt(roundsInput.value) > 10) {
            roundsInput.value = 10;
          }
        } else if (algoShor) {
          roundsInput.style.display = "none";
        } else {
          roundsInput.style.display = "block";
          roundsInput.max = 16;  
        }
        const shorBlock = document.getElementById("shor-input");
        const plaintextBlock = document.getElementById("plaintext");
        const keyBlock = document.getElementById("key");
        const inputLabel = document.getElementById("inputLabel");
        const keyLabel = document.querySelector('label[for="key"]');

        const keyTypeRadios = document.getElementsByName("keyType");
        const plaintextTypeRadios = document.getElementsByName("PTtype");

        if (algoShor) { 
          // hide plaintext/key for Shor
          inputLabel.style.display = "none";
          input.style.display = "none";
          plaintextBlock.style.display = "none";
          keyLabel.style.display = "none";
          keyTypeRadios.forEach(radio => radio.style.display = "none");
          plaintextTypeRadios.forEach(radio => radio.style.display = "none");
          
          const encryptBtn = document.getElementById("encryptmode");
          const encryptLabel = document.getElementById("encryptLabel");
          const decryptLabel = document.getElementById("decryptLabel");
          const decryptBtn = document.getElementById("decryptmode");
          const hexlabel = document.getElementById("hexlabel");
          const asciilabel = document.getElementById("asciilabel");
          const hexlabel2 = document.getElementById("hexlabel2");
          const asciilabel2 = document.getElementById("asciilabel2");
          const modelabel = document.getElementById("modelabel");
          modelabel.style.display = "none";
          hexlabel.style.display = "none";
          asciilabel.style.display = "none";
          hexlabel2.style.display = "none";
          asciilabel2.style.display = "none";
          encryptBtn.style.display = "none";
          decryptBtn.style.display = "none";
          encryptLabel.style.display = "none";
          decryptLabel.style.display = "none";
          const roundsLabel = document.getElementById("roundsLabel");
          roundsLabel.style.display = "none";
          plaintextTypeRadios.forEach(label => label.style.display = "none");
          keyTypeRadios.forEach(label => label.style.display = "none");
          keyBlock.style.display = "none";
          shorBlock.style.display = "block";
        } else {
          inputLabel.style.display = "block";
          plaintextBlock.style.display = "block";
          keyLabel.style.display = "block";
          keyBlock.style.display = "block";
          shorBlock.style.display = "none";
        }
      }

      window.onload = function () {
        ["encryptmode", "decryptmode", "hex", "ascii", "shor"].forEach(id => {
          const el = document.getElementById(id);
          if (el) el.addEventListener("change", updateInputLabel);
        });
        updateInputLabel(); // Initial state
      };
    </script>

</body>
</html>
